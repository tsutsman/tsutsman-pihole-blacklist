# Пропозиції щодо подальших покращень

## Покриття тестами
- Додати окремі юніт-тести для функції `_load_sources`, щоби перевіряти коректне ігнорування записів без URL та збереження нестандартних полів метаданих. Зараз поведінка описана лише в коді `scripts/update_domains.py`, але не покрита тестами, тому зміни конфігурацій можуть непомітно зламати парсер. 【F:scripts/update_domains.py†L39-L68】
- Протестувати `_clean_domain`, `_write_report` і `_update_status`, щоб гарантувати правильне нормалізування хост-файлів, формування звітів та відстеження статусів доменів при оновленнях. Нині тести перевіряють лише основний сценарій оновлення та генерацію звіту, не охоплюючи крайові випадки. 【F:scripts/update_domains.py†L70-L191】【F:tests/test_update_domains.py†L1-L104】
- Розширити тестування `generate_lists` для фільтрів `--statuses`, `--include-inactive`, `--regions` і `--sources`, а також для сегментації за джерелами. Це дозволить упевнитися, що `Catalog.iter_values_from` застосовує всі параметри так, як очікується. 【F:scripts/generate_lists.py†L91-L204】

## Документація
- Додати в README розділ з інструкцією встановлення залежностей та прикладом запуску кожного скрипта (`check_lists.py`, `generate_lists.py`, `update_domains.py`), щоб нові контриб'ютори швидко налаштували середовище. 【F:README.md†L7-L63】
- Розширити опис структури метаданих (`data/catalog.json`, `data/domain_status.json`, `data/sources.json`) прикладами записів та поясненням полів, бо зараз README згадує лише заголовки без формальних прикладів. 【F:README.md†L23-L37】

## Автоматизація та процеси
- Задокументувати рекомендований розклад запуску `update_domains.py` (наприклад, через cron або GitHub Actions) і описати, як аналізувати `reports/latest_update.json`. Це допоможе уникати пропусків в оновленнях та кращого відстеження застарілих доменів. 【F:scripts/update_domains.py†L108-L191】
- Додати чекліст до CONTRIBUTING/README для валідації перед комітом: запуск `check_lists.py`, `generate_lists.py` з ключовими форматами та оновлення каталогу. Це забезпечить узгодженість із рекомендацією запускати `pre-commit` і `pytest`. 【F:README.md†L65-L78】
